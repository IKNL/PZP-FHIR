{
  "resourceType": "StructureDefinition",
  "id": "ACP-TreatmentDirective",
  "url": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-TreatmentDirective",
  "version": "0.1.0",
  "name": "ACPTreatmentDirective",
  "title": "TreatmentDirective",
  "status": "draft",
  "experimental": false,
  "publisher": "IKNL",
  "contact": [
    {
      "name": "IKNL",
      "telecom": [
        {
          "system": "email",
          "value": "info@iknl.nl",
          "use": "work"
        }
      ]
    }
  ],
  "description": "A treatment directive contains a joint decision between a health professional (for example a general practitioner) and a patient or his representative(s) about the desirability of performing a certain treatment, such as resuscitation, before this treatment becomes (acute) necessary.",
  "copyright": "Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise.",
  "fhirVersion": "3.0.2",
  "mapping": [
    {
      "identity": "pall-izppz-v2025-03-11",
      "uri": "https://decor.nictiz.nl/ad/#/pall-izppz-/datasets/dataset/2.16.840.1.113883.2.4.3.11.60.117.1.1/2020-07-29T10:37:48/concept/2.16.840.1.113883.2.4.3.11.60.117.2.350/2025-03-11T13:43:38",
      "name": "PZP dataset"
    },
    {
      "identity": "pall-izppz-zibs2017-v2025-03-11",
      "uri": "https://decor.nictiz.nl/ad/#/pall-izppz-/datasets/dataset/2.16.840.1.113883.2.4.3.11.60.117.1.1/2020-07-29T10:37:48",
      "name": "PZP dataset zibs2017"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Consent",
  "baseDefinition": "http://nictiz.nl/fhir/StructureDefinition/zib-TreatmentDirective",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Consent",
        "path": "Consent",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "602",
            "comment": "Behandelgrens (BehandelAanwijzing)"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "637",
            "comment": "Afspraak uitzetten ICD (BehandelAanwijzing)"
          }
        ]
      },
      {
        "id": "Consent.extension:comment",
        "path": "Consent.extension",
        "sliceName": "comment"
      },
      {
        "id": "Consent.extension:comment.value[x]",
        "path": "Consent.extension.value[x]",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "618",
            "comment": "Toelichting"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "653",
            "comment": "Toelichting"
          }
        ]
      },
      {
        "id": "Consent.extension:additionalAdvanceDirective",
        "path": "Consent.extension",
        "sliceName": "additionalAdvanceDirective"
      },
      {
        "id": "Consent.extension:additionalAdvanceDirective.extension",
        "path": "Consent.extension.extension",
        "max": "0"
      },
      {
        "id": "Consent.extension:additionalAdvanceDirective.value[x]",
        "path": "Consent.extension.value[x]",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-AdvanceDirective"
          }
        ],
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "644",
            "comment": "Wilsverklaring"
          }
        ]
      },
      {
        "id": "Consent.extension:encounter",
        "path": "Consent.extension",
        "sliceName": "encounter",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": "https://fhir.iknl.nl/fhir/StructureDefinition/ext-EncounterReference"
          }
        ]
      },
      {
        "id": "Consent.extension:encounter.value[x]",
        "path": "Consent.extension.value[x]",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-Encounter"
          }
        ]
      },
      {
        "id": "Consent.modifierExtension:specificationOther",
        "path": "Consent.modifierExtension",
        "sliceName": "specificationOther"
      },
      {
        "id": "Consent.modifierExtension:specificationOther.value[x]",
        "path": "Consent.modifierExtension.value[x]",
        "comment": "In addition to the default zib/nl-core guidance, this extension is used to communicate further details about agreements concerning ICD.",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "605",
            "comment": "SpecificatieAnders"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "638",
            "comment": "Afspraak uitzetten ICD (BehandelBesluit)"
          }
        ]
      },
      {
        "id": "Consent.patient",
        "path": "Consent.patient",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-Patient"
          }
        ]
      },
      {
        "id": "Consent.dateTime",
        "path": "Consent.dateTime",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "606",
            "comment": "MeestRecenteBespreekdatum"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "641",
            "comment": "MeestRecenteBespreekdatum"
          }
        ]
      },
      {
        "id": "Consent.source[x]:sourceReference",
        "path": "Consent.source[x]",
        "sliceName": "sourceReference",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-AdvanceDirective"
          }
        ],
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "609",
            "comment": "Wilsverklaring"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "644",
            "comment": "Wilsverklaring"
          }
        ]
      },
      {
        "id": "Consent.provision.extension:reasonForEnding",
        "path": "Consent.provision.extension",
        "sliceName": "reasonForEnding",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "643",
            "comment": "RedenBeeindigd"
          }
        ]
      },
      {
        "id": "Consent.provision.extension:reasonForEnding.value[x]",
        "path": "Consent.provision.extension.value[x]",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "608",
            "comment": "RedenBeeindigd"
          }
        ]
      },
      {
        "id": "Consent.provision.type",
        "path": "Consent.provision.type",
        "comment": "Additional terminology mapping guidance, in addition to the default zib/nl-core guidance:  - BehandelBesluit (dataset id 603) values:      - _Ja_ -> _permit_     - _Nee_ -> _deny_     - _Ja maar met beperkingen_ or _Onbekend_ -> do not set a value. Instead, communicate this via the `modifierExtension[specificationOther].value[x]` element. - Afspraak uitzetten ICD (dataset id 638) values:      - _Wel uitvoeren_ -> _permit_      - No value is mapped to _deny_     - _Nee, nog geen besluit genomen_ or _Niet besproken_ -> do not set a value. Instead, communicate this via the `modifierExtension[specificationOther].value[x]` element.",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "603",
            "comment": "BehandelBesluit"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "638",
            "comment": "Afspraak uitzetten ICD (BehandelBesluit)"
          }
        ]
      },
      {
        "id": "Consent.provision.period.end",
        "path": "Consent.provision.period.end",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "607",
            "comment": "DatumBeeindigd"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "642",
            "comment": "DatumBeeindigd"
          }
        ]
      },
      {
        "id": "Consent.provision.actor:agreementParty",
        "path": "Consent.provision.actor",
        "sliceName": "agreementParty",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "611",
            "comment": "AfspraakPartij"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "646",
            "comment": "AfspraakPartij"
          }
        ]
      },
      {
        "id": "Consent.provision.actor:agreementParty.reference",
        "path": "Consent.provision.actor.reference",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://fhir.iknl.nl/fhir/StructureDefinition/ACP-Patient"
          }
        ],
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "612",
            "comment": "Patient"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "614",
            "comment": "Vertegenwoordiger"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "616",
            "comment": "Zorgverlener"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "647",
            "comment": "Patient"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "649",
            "comment": "Vertegenwoordiger"
          },
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "651",
            "comment": "Zorgverlener"
          }
        ]
      },
      {
        "id": "Consent.provision.code",
        "path": "Consent.provision.code",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "604",
            "comment": "Behandeling"
          },
          {
            "identity": "pall-izppz-zibs2017-v2025-03-11",
            "map": "59",
            "comment": "Behandeling"
          }
        ]
      },
      {
        "id": "Consent.provision.code.text",
        "path": "Consent.provision.code.text",
        "comment": "`.provision.type` has a required binding. Therefore, only codes in the bound ValueSet are permitted. For concepts not present in the ValueSet, such as SNOMED CT code 400231000146108 (Uitzetten van cardioverter-defibrillator in laatste levensfase), use the `.text` field as per FHIR guidance.",
        "mapping": [
          {
            "identity": "pall-izppz-v2025-03-11",
            "map": "639",
            "comment": "Behandeling van ICD (Behandeling)"
          }
        ]
      }
    ]
  }
}