map "http://hl7.org/fhir/StructureMap/Subscription4to3" = "R4 to R3 Conversion for Subscription"

uses "http://hl7.org/fhir/StructureDefinition/Subscription" alias Subscription as source
uses "http://hl7.org/fhir/3.0/StructureDefinition/Subscription" alias SubscriptionR3 as target

imports "http://hl7.org/fhir/StructureMap/*4to3"

group Subscription(source src : Subscription, target tgt : SubscriptionR3) extends DomainResource <<type+>> {
  src.status as vs -> tgt.status as vt then code(vs, vt);
  src.contact -> tgt.contact;
  src.end as vs -> tgt.end as vt then dateTime(vs, vt);
  src.reason as vs -> tgt.reason as vt then string(vs, vt);
  src.criteria as vs -> tgt.criteria as vt then string(vs, vt);
  src.error as vs -> tgt.error as vt then string(vs, vt);
  src.channel as vs0 -> tgt.channel as vt0 then channel(vs0, vt0);
}

group channel(source src, target tgt) extends BackboneElement {
  src.type as vs -> tgt.type as vt then string(vs, vt);
  src.endpoint as vs -> tgt.endpoint as vt then string(vs, vt);
  src.payload as vs -> tgt.payload as vt then string(vs, vt);
  src.header as vs -> tgt.header as vt then string(vs, vt);
}

